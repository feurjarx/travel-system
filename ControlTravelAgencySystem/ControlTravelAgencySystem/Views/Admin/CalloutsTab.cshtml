@model ControlTravelAgencySystem.Models.ViewModels.AdminPanelPageView
@using ControlTravelAgencySystem.Models
@using ControlTravelAgencySystem.Common

@{
    ViewBag.Title = "CalloutsTab";
}

<h2>Заявки от клиентов</h2>

@if (Model.callouts.Count() > 0)
{
    <table class="table table-hover">
        <thead>
            <tr>
                <th>ФИО</th>
                <th>Дата и время создания</th>
                <th>Дата и время анулирования</th>
                <th>email</th>
                <th>телефон</th>
            </tr>
        </thead>
        <tbody>


        @foreach (callout c in Model.callouts)
        {
            <tr>
                <td>@c.fullname</td>
                <td>@Utils.tsToDateTime(c.created_at).ToString("dd.MMM yyyy (H:mm:ss)")</td>

                <td>

                    @if (c.cancellation_at != null)
                {

                        @Utils.tsToDateTime((double)c.cancellation_at).ToString("dd.MMM yyyy (H:mm:ss)")
                    }
                    else
                    {
                        <span>-</span>
                    }

                </td>
                <td>@(c.email != null ? c.email : "-")</td>
                <td>@(c.phone != null ? c.phone : "-")</td>
            </tr>
        }

        </tbody>
    </table>
}
else
{
    <div class="alert alert-warning">Заявки не найдены</div>
}



